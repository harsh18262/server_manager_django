var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function status(e){return 200<=e.status&&e.status<300?Promise.resolve(e):Promise.reject(e)}function json(e){return e.json()}function text(e){return e.text()}function expireV2Token(){ql.labData.setRecaptchaV2Token(undefined)}function recaptchaComplete(e){ql.labData.setRecaptchaV2Token(e),ql.labRun.startLab({accessSuccess:!1})}function requestStartLab(){ql.labData.isRecaptchaEnabled()&&!ql.labData.getRecaptchaV2Token()?(ql.track("clicked_start_lab_button",ql.labData.getAnalyticsPayload()),document.getElementById("g-recaptcha-response-data-start-lab")?($.ajaxSetup({timeout:3e3}),executeRecaptchaForStartLabAsync().then(function(e){$.post("/focuses/verify_v3_recaptcha",{recaptchaV3Token:e,id:ql.labData.getFocusId(),parent:ql.labData.getParent()}).done(function(e){e.is_verified?ql.labRun.startLab({accessSuccess:!1}):ql.labControlPanel.showV2Recaptcha()}).error(function(){return ql.labControlPanel.showV2Recaptcha()})})):ql.labControlPanel.showV2Recaptcha()):ql.labRun.startLab({accessSuccess:!1})}var _slicedToArray=function(){function n(e,t){var n=[],i=!0,o=!1,a=undefined;try{for(var s,r=e[Symbol.iterator]();!(i=(s=r.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(c){o=!0,a=c}finally{try{!i&&r["return"]&&r["return"]()}finally{if(o)throw a}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ql={getJson:function(e){return fetch(e,{credentials:"include"}).then(status).then(json)},getHtml:function(e){return fetch(e,{credentials:"include"}).then(status).then(text)},Poller:function(e,t,n,i){this.continuePolling=!0,this.path=e,this.timeout=t,this.success=n,this.failure=i||this.defaultFailure,this.start=function o(){var t=this;this.continuePolling&&ql.getJson(this.path).then(this.success).then(function(){return setTimeout(o.bind(t),t.timeout)})["catch"](function(e){console.log(e),t.stop(),t.failure(e)})},this.once=function(){ql.getJson(this.path).then(this.success)["catch"](this.failure)},this.stop=function(){this.continuePolling=!1},this.defaultFailure=function(e){console.log("Request failed",e)}},events:{},subscribe:function(t,n){return ql.events[t]=ql.events[t]||[],ql.events[t].push(n),{unsubscibe:function i(){var e=ql.events[t].indexOf(n);ql.events[t].splice(e,1)}}},publish:function(e,t){ql.events[e]&&ql.events[e].forEach(function(e){e.call(this,t)})},debounce:function(o,e,t){var a,s=arguments.length<=1||e===undefined?20:e,r=arguments.length<=2||t===undefined||t;return function(){var e=this,t=arguments,n=function n(){a=null,r||o.apply(e,t)},i=r&&!a;clearTimeout(a),a=setTimeout(n,s),i&&o.apply(e,t)}},showFlash:function(e,t){var n=$("#flash-sibling-before"),i=$('<div class="alert" role="alert"></div>');"notice"==e?i.addClass("alert-success"):i.addClass("alert-error");var o=$('<a class="alert__close" data-dismiss="alert"><i class="fa fa-times"></i></a>'),a=$('<iframe class="l-ie-iframe-fix"></iframe>');i.text(t),i.append(o),i.append(a),$(".alert").remove(),i.insertAfter(n)},moveFlash:function(e){$(function(){return $("#flash-sibling-before").insertAfter(e)})}};$.widget("custom.userAutocomplete",$.ui.autocomplete,{_renderItem:function _renderItem(e,t){return $("<li>").attr("data-value",t.value).append(ql.renderAutocompleteUser(t)).appendTo(e)}}),ql.renderAutocompleteUser=function(e){return"newUser"==e.value?'<div class="add-new-user js-add-new-user">\n      <i class="material-icons">add</i> Add New User\n    </div>':"<div class='autocomplete--user'>\n      <img src='https://web.archive.org/web/20210829033740/https://secure.gravatar.com/avatar/"+e.label.gravatar_hash+".jpg?s=80&d=mm'/>\n      <div>\n        "+e.label.email+"\n        <span>"+e.label.first_name+" "+e.label.last_name+"</span>\n      </div>\n    </div>"},ql.autocomplete=function(){function e(){$(".js-user-autocomplete").userAutocomplete({source:t}),$(document).on("nested:fieldAdded",function(e){e.field.find(".js-user-autocomplete").userAutocomplete({source:t})})}function t(e,t){var n="?q["+this.element[0].dataset.query+"]="+e.term;ql.getJson(this.element[0].dataset.autocomplete+n).then(function(e){t(e.map(function(e){return{label:e,value:e.email}}))})}return{init:e,source:t}}(),ql.setCookie=function(e,t,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var o="expires="+i.toUTCString();document.cookie=e+"="+t+";"+o+";path=/"},ql.hasAnalytics=function(){return"undefined"!=typeof analytics},ql.track=function(e,t){var n=arguments.length<=1||t===undefined?{}:t;ql.hasAnalytics()&&(analytics.track(e,n),dataLayer.push(_extends({event:e},n)))},ql.experiments=function(){function n(t){return i.find(function(e){return e.id===t})}function e(){return i}function t(e){var t=n(e);return null!=e&&t.variant}var i=[],o=document.querySelector('meta[name="active-experiments"]');if(o)try{i=JSON.parse(o.content)}catch(a){console.error(a)}else console.error("Missing active-experiments meta tag.");return{getActiveExperiments:e,getExperiment:n,getUserVariant:t}}(),ql.adminClassroomView=function(){function e(e){n=e,i=document.querySelector(".js-classroom-focuses"),t()}function t(){ql.getJson(n).then(function(e){return i.innerHTML=e.focuses}).then(function(){return setTimeout(t,1e4)})["catch"](function(e){return console.error(e.message)})}var n="",i="";return{init:e}}(),ql.analytics=function(){function e(){function c(e){var t=!0,n=!1,i=undefined;try{for(var o,a=e.querySelectorAll("*")[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;s.dataset&&null!=s.dataset.analyticsAction&&s.addEventListener("click",l,!1),s.shadowRoot&&c(s.shadowRoot)}}catch(r){n=!0,i=r}finally{try{!t&&a["return"]&&a["return"]()}finally{if(n)throw i}}}c(document)}function l(){ql.track(this.dataset.analyticsAction,_extends({category:this.dataset.analyticsCategory,label:this.dataset.analyticsLabel},this.dataset))}return{init:e}}(),ql.assessmentTimer=function(){function e(){var i=document.querySelector("ql-quiz"),o=document.querySelector("ql-exam-timer"),t=document.querySelector(".assessment-timer"),e=document.querySelector(".timer-toggle"),a=function a(){null==o.getAttribute("open")&&(o.setAttribute("open","true"),setTimeout(function(){return o.removeAttribute("open")},5*r))},s=function s(e){var t=e.detail,n=o.classList;t<=0&&!n.contains("expired")?(i.dispatchEvent(new Event("timeElapsed")),n.add("expired"),o.setAttribute("open","true")):t<=30&&!n.contains("critical")?(n.add("critical"),a()):t<15*c&&!n.contains("warning")&&(n.add("warning"),a())},n=function n(e){switch(e.type){case l.RETAKE:o.startedAt=e.detail,o.setAttribute("open","true"),o.classList.remove("expired","critical","warning"),t.classList.remove("hidden");break;case l.SUBMIT:o.startedAt=null,t.classList.add("hidden")}};i&&o&&e&&(o.addEventListener("secondsRemainingChanged",s),i.addEventListener(l.SUBMIT,n),i.addEventListener(l.RETAKE,n))}var r=1e3,c=60,l={RETAKE:"retake",SUBMIT:"submit"};return{init:e}}(),CampaignCodeModalSubmitEnable=function(){$("#campaign-code-modal-submit").prop("disabled",!1)},CampaignCodeModalSubmitDisable=function(){$("#campaign-code-modal-submit").prop("disabled",!0)},ql.catalogs={tracking:function(){function e(){document.querySelectorAll(".js-catalog-item-title a").forEach(function(e){return e.addEventListener("click",function(e){ql.track("clicked_catalog_list_item",{label:e.target.innerText,type:e.target.dataset.type})},!1)})}return{init:e}}(),addItems:function(){function e(){$catalogItems=document.querySelector(".js-catalog-items"),$addButtons=document.querySelectorAll(".js-add-button"),$addButtons.forEach(function(e){e.addEventListener("click",t,!1)}),ql.subscribe("itemAdded",i)}function t(e){e.preventDefault(),e.stopImmediatePropagation(),$("#add_item_with_children").modal("hide"),n(this.href)}function n(e){fetch(e,{method:"POST",credentials:"include",headers:new Headers({"X-CSRF-Token":document.querySelector('meta[name="csrf-token"]').content,Accept:"application/json","Content-Type":"application/json"})}).then(status).then(json).then(function(e){return ql.publish("itemAdded",e)})["catch"](function(e){return console.log(e)})}function i(e){$firstCatalogItem=$catalogItems.querySelectorAll(".js-catalog-item")[0],$firstCatalogItem?$firstCatalogItem.insertAdjacentHTML("beforebegin",e.html):$catalogItems.insertAdjacentHTML("beforeend",e.html),$visiblebuttons=$catalogItems.querySelectorAll(".js-item-visible"),$visiblebuttons.forEach(function(e){e.hasAttribute("data-listening")||ql.catalogs.editItems.upgradeVisibleButton(e)}),$priceFields=$catalogItems.querySelectorAll(".js-item-price"),$priceFields.forEach(function(e){e.hasAttribute("data-listening")||ql.catalogs.editItems.upgradePriceField(e)}),$oldItem=document.querySelector('.js-add-item[data-item="'+e.catalogableType+"_"+e.catalogableId+'"]'),$($oldItem).animate({height:0},200,function(){$oldItem.remove()})}return $addButtons=[],$catalogItems={},{init:e,addItem:n}}(),searchItems:function(){function e(){$active=window.localStorage.getItem("searchTab")?window.localStorage.getItem("searchTab"):"Labs",t(".js-tab"),t(".js-tab-content"),n(),$tabsContainer=document.querySelector(".js-catalogable-types"),$tabsContainer.addEventListener("click",i)}function t(e){$tabs=document.querySelectorAll(e),$tabs.forEach(function(e){e&&(e.dataset.tab==$active?e.classList.add("is-active"):e.classList.remove("is-active"))})}function n(){$paginationContainers=document.querySelectorAll(".pagination"),$paginationContainers.forEach(function(e){e&&(e.id!=$active.toLowerCase()?e.style.display="none":e.style.display="inline")})}function i(){$active=document.querySelector(".js-tab.is-active").dataset.tab,window.localStorage.setItem("searchTab",$active),n()}return{init:e}}(),dragAndDrop:function(){function e(){$modal=document.querySelector("#add_item_with_children"),$name=$modal.querySelector(".js-add-item-name"),$type=$modal.querySelector(".js-add-item-type"),$count=$modal.querySelector(".js-add-item-children-count"),$with_button=$modal.querySelector(".js-with-children"),$without_button=$modal.querySelector(".js-without-children"),$(".js-add-item").draggable({helper:"clone",appendTo:"body"}),$(".js-catalog-table").droppable({drop:t,activeClass:"is-droppable",hoverClass:"is-active"})}function t(e,t){var n=t.draggable[0];if(n.dataset.hasChildren){var i=n.dataset.name,o=n.dataset.type,a=n.dataset.children,s=n.querySelector(".js-add-with-children").href,r=n.querySelector(".js-add-without-children").href;$name.innerHTML=i,$type.innerHTML=o,$count.innerHTML=a,$with_button.href=s,$without_button.href=r,$("#add_item_with_children").modal("show")}else $addButton=n.querySelector(".js-add-button"),ql.catalogs.addItems.addItem($addButton.href)}return $addItems={},$modal={},$name={},$type={},$count={},$with_button={},$without_button={},{init:e}}(),editItems:function(){function e(){$catalogItems=document.querySelector(".js-catalog-items"),$visibleButtons=$catalogItems.querySelectorAll(".js-item-visible"),$visibleButtons.forEach(t),$priceFields=$catalogItems.querySelectorAll(".js-item-price"),$priceFields.forEach(n),ql.subscribe("itemUpdated",s)}function t(e){e.addEventListener("click",i,!1),e.dataset.listening="true"}function n(e){e.addEventListener("change",o,!1),e.dataset.listening="true"}function i(e){e.preventDefault(),e.stopImmediatePropagation(),a(this.href)}function o(){a(this.dataset.path.replace(/=.*/i,"="+this.value))}function a(e){fetch(e,{method:"PATCH",credentials:"include",headers:new Headers({"X-CSRF-Token":document.querySelector('meta[name="csrf-token"]').content,Accept:"application/json","Content-Type":"application/json"})}).then(status).then(json).then(function(e){return ql.publish("itemUpdated",e)})["catch"](function(e){return console.log(e)})}function s(e){$item=$catalogItems.querySelector('[data-item = "'+e.id+'"]'),$visibleButton=$item.querySelector(".js-item-visible");var t=e.visible?"0":"1",n=e.visible?"text--success":"text--light",i=$visibleButton.href.replace(/=\d/i,"="+t);$visibleButton.href=i,$visibleButton.classList.remove("text--success"),$visibleButton.classList.remove("text--light"),$visibleButton.classList.add(n),e.price&&($priceField=$item.querySelector(".js-item-price"),$priceField.value=e.price)}return $catalogItems={},$visibleButtons={},$priceFields={},{init:e,upgradeVisibleButton:t,upgradePriceField:n}}(),edit:function(){function e(){$enableButton=document.querySelector(".js-enable-catalog"),$enableIcon=$enableButton.querySelector(".material-icons"),$enableButton.addEventListener("click",t,!1),$fraudButton=document.querySelector(".js-fraud-catalog"),$fraudIcon=$fraudButton.querySelector(".material-icons"),$fraudButton.addEventListener("click",t,!1),ql.subscribe("catalogUpdated",i)}function t(e){e.preventDefault(),e.stopImmediatePropagation(),n(this.href)}function n(e){fetch(e,{method:"PATCH",credentials:"include",headers:new Headers({"X-CSRF-Token":document.querySelector('meta[name="csrf-token"]').content,Accept:"application/json","Content-Type":"application/json"})}).then(status).then(json).then(function(e){return ql.publish("catalogUpdated",e)})["catch"](function(e){return console.log(e)})}function i(e){var t=e.enabled_at?"0":"1",n=e.enabled_at?"check_box":"check_box_outline_blank",i=$enableButton.href.replace(/=\d/i,"="+t);$enableButton.href=i,$enableIcon.innerHTML=n;var o=e.fraud_protection?"0":"1",a=e.fraud_protection?"check_box":"check_box_outline_blank",s=$fraudButton.href.replace(/=\d/i,"="+o);$fraudButton.href=s,$fraudIcon.innerHTML=a}return $enableButton={},$enableIcon={},$fraudButton={},$fraudIcon={},{init:e}}(),description:function(){function e(e,t,n){document.getElementById(e).checked?document.getElementById("label_"+e).innerHTML=t:document.getElementById("label_"+e).innerHTML=n}return{checkboxState:e}}()},ql.catalogAccessBulkRemoval=function(t){function e(){document.querySelector(".js-start-dry-run").addEventListener("click",d),ql.subscribe(A,s),ql.subscribe(C,r)}function n(e){b(),i(e)}function i(e){(I=new ql.Poller(e,t,function(e){ql.publish(A,e)})).start()}function o(e){g(),a(e)}function a(e){E===undefined&&(E=new ql.Poller(e,t,function(e){ql.publish(C,e)})).start()}function s(e){e&&null===e.dry_run_operation?window.location=e.redirect_path:e&&"finished"===e.dry_run_operation.status&&(I.stop(),v(),e.dry_run_operation.succeeded?l(e):w())}function r(e){e&&null===e.removal_operation?window.location=e.redirect_path:e&&"finished"===e.removal_operation.status&&(E.stop(),y(),e.removal_operation.succeeded?window.location=e.redirect_path:c())}function c(){document.querySelector(".removal-dry-run-summary").classList.contains("is-active")?L():w()}function l(e){document.querySelector(".removal-dry-run-summary").innerHTML=e.rendered,u(),document.querySelector(".removal-dry-run-summary").classList.add("is-active"),j()}function u(){document.querySelector(".js-confirm-removal-button").addEventListener("click",m),document.querySelector(".js-cancel-bulk-removal").addEventListener("click",f),$confirmButtonForm=$(".js-confirm-removal-form"),$confirmButtonForm.on("ajax:success",function(e,t){p(),a(t.removal_status_path+"?removal_operation_id="+t.removal_operation_id)}),$confirmButtonForm.on("ajax:error",function(e,t){return window.location=t.responseJSON.redirect_path,!1})}function d(){b(),h()}function m(){_(),S()}function f(){q(),h(),p()}function h(){I&&(I.stop(),I=undefined)}function p(){E&&(E.stop(),E=undefined)}function b(){document.querySelector(".dry-run-loader").classList.add("is-active"),document.querySelector(".removal-general-error").classList.remove("is-active"),j()}function v(){document.querySelector(".dry-run-loader").classList.remove("is-active")}function g(){document.querySelector(".removal-loader").classList.add("is-active"),j()}function y(){document.querySelector(".removal-loader").classList.remove("is-active")}function q(){document.querySelector(".removal-dry-run-summary").classList.remove("is-active"),k()}function _(){document.querySelector(".removal-spinner").classList.add("is-active"),document.querySelector(".removal-actions").classList.add("disabled")}function L(){document.querySelector(".removal-confirmation-error").classList.add("is-active"),document.querySelector(".removal-spinner").classList.remove("is-active"),document.querySelector(".removal-actions").classList.remove("disabled")}function S(){document.querySelector(".removal-confirmation-error").classList.remove("is-active")}function w(){document.querySelector(".removal-general-error").classList.add("is-active"),k()}function j(){document.querySelector(".removal-upload-form").classList.add("disabled")}function k(){document.querySelector(".removal-upload-form").classList.remove("disabled")}var A="received-dry-run-status",C="received-removal-status",I=undefined,E=undefined;return{init:e,pollDryRunOnPageLoad:n,pollRemovalOnPageLoad:o}},ql.chat=function(){function e(){o(),zE("webWidget:on","close",n)}function t(){i(),zE("webWidget","open")}function n(){zE("webWidget","close"),o()}function i(){zE("webWidget","show")}function o(){zE("webWidget","hide")}return{init:e,open:t,close:n,show:i,hide:o}}(),initChosenListener=function(){$(".js-chosen").chosen({disable_search_threshold:20})},initChosen=function(){initChosenListener()},ql.focusDataPath="",ql.initStudentCheckBoxListeners=function(){var e=document.querySelectorAll(".js-select-student");[].concat(_toConsumableArray(e)).map(function(e){e.addEventListener("click",ql.handleStudentCheckBox)})},ql.handleStudentCheckBox=function(){ql.toggleStudentRow(this.closest("[data-student]")),ql.toggleStudentCheckBox(this),ql.toggleActionButtons()},ql.toggleStudentRow=function(e){e.classList.toggle("is-selected")},ql.toggleStudentCheckBox=function(e){e.innerHTML=e.innerHTML.includes("blank")?"check_box":"check_box_outline_blank"},ql.toggleActionButtons=function(){var e=ql.getSelectedStudentRows(),t=e.filter(function(e){return"true"==e.dataset.running}),n=document.querySelector(".js-student-table-title"),i=document.querySelector(".js-student-actions-container"),o=i.querySelectorAll(".mdl-button");e.length?(n.style.display="none",i.style.display="block",0==t.length?o.forEach(function(e){return e.classList.add("mdl-button--disabled")}):o.forEach(function(e){return e.classList.remove("mdl-button--disabled")})):(n.style.display="flex",i.style.display="none")},ql.getSelectedStudentRows=function(){var e=document.querySelectorAll("[data-student]");return[].concat(_toConsumableArray(e)).filter(function(e){return e.classList.contains("is-selected")})},ql.initAddTimeListener=function(){document.querySelector(".js-add-time").addEventListener("click",ql.handleAddTime)},ql.handleAddTime=function(){ql.getSelectedStudentRows().filter(function(e){return"true"==e.dataset.running}).map(function(e){return e.dataset.addTimePath}).map(function(e){var t=new Request(e,{method:"POST",credentials:"include",headers:new Headers({"X-CSRF-Token":document.querySelector('meta[name="csrf-token"]').content})});fetch(t).then(status).then(json).then(function(){return ql.getJson(ql.focusDataPath).then(function(e){return ql.publish("received-focus-data",e)})})["catch"](function(e){return console.log("Request failed",e)})})},ql.initEndLabListener=function(){document.querySelector(".js-end-lab").addEventListener("click",ql.handleEndLab)},ql.handleEndLab=function(){ql.getSelectedStudentRows().filter(function(e){return"true"==e.dataset.running}).map(function(e){return e.dataset.endLabPath}).map(function(e){fetch(e,{credentials:"include"}).then(status).then(json).then(function(){return ql.getJson(ql.focusDataPath).then(function(e){return ql.publish("received-focus-data",e)})})["catch"](function(e){return console.log("Request failed",e)})})},ql.trainerClassroomView=function(){function t(e){e.students.forEach(function(e){var t=document.querySelector('[data-student="'+e.id+'"]');(t.dataset.labInstance=e.lab_instance.id,t.dataset.labState=e.lab_instance.lab_state,t.dataset.running=e.lab_instance.running,t.dataset.addTimePath=e.lab_instance.add_time_path,t.dataset.endLabPath=e.lab_instance.end_lab_path,t.querySelector(".js-status").innerHTML=e.lab_instance.status_html,e.lab_instance.score_html)&&(t.querySelector(".js-score").innerHTML=e.lab_instance.score_html)})}function n(e){e.running_hotlabs&&e.running_hotlabs.forEach(function(e){var t=document.querySelector("#focus_"+e.id).querySelector(".js-lab-details");0<e.hotlabs_running_count?t.innerHTML=e.hotlabs_running_count+" labs pre-warmed.":t.innerHTML=""})}function i(e){s&&(s.innerHTML=e.hotlabs_status)}function o(e){if(b){b.innerHTML=e.hotlabs_button;var t=b.querySelectorAll(".mdl-button"),n=!0,i=!1,o=undefined;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var r=a.value;componentHandler.upgradeElement(r)}}catch(p){i=!0,o=p}finally{try{!n&&s["return"]&&s["return"]()}finally{if(i)throw o}}var c=b.querySelectorAll(".mdl-tooltip"),l=!0,u=!1,d=undefined;try{for(var m,f=c[Symbol.iterator]();!(l=(m=f.next()).done);l=!0){var h=m.value;componentHandler.upgradeElement(h)}}catch(p){u=!0,d=p}finally{try{!l&&f["return"]&&f["return"]()}finally{if(u)throw d}}}}function a(){ql.getJson(ql.focusDataPath).then(function(e){return ql.publish("received-focus-data",e)}).then(function(){return setTimeout(a,5e3)})["catch"](function(e){return console.log("Request failed",e)})}var s={},b={};return{init:function r(e){ql.focusDataPath=e,s=document.querySelector(".js-hotlabs"),b=document.querySelector(".js-hotlabs-button"),ql.subscribe("received-focus-data",i),ql.subscribe("received-focus-data",o),ql.subscribe("received-focus-data",n),ql.subscribe("received-focus-data",t),a(),document.querySelector("a.classroom__index-item.active").scrollIntoView()}}}(),ql.trainerLabDragDrop=function(){function e(){$("#js-sortable").sortable({axis:"y",handle:".handle",update:function n(){if($.post($(this).data("update-url"),$(this).sortable("serialize")),0<document.querySelectorAll(".classroom_section.visible").length)for(var e=document.querySelectorAll(".classroom_section.visible #classroom-table tr.focus.classroom-tr .number_field"),t=0;t<e.length;t++)e[t].innerText=t+1+"."}})}return{init:e}}(),ql.classroomResourceLabView=function(){function e(e){i=e,o=document.querySelector(".js-classroom-resource-lab"),ql.subscribe("received-resource-lab-data",n),t()}function t(){console.log("Polling Resource Lab Data: "+i),ql.getJson(i).then(function(e){return ql.publish("received-resource-lab-data",e)}).then(function(){return setTimeout(t,5e3)})["catch"](function(e){return console.log("Request failed",e)})}function n(e){o.innerHTML=e.html}var i="",o="";return{init:e}}(),ql.classroomStudentView=function(){function e(e){i=e,o=document.querySelectorAll(".js-focus-row"),ql.subscribe("received-student-data",n),t()}function t(){ql.getJson(i).then(function(e){return ql.publish("received-student-data",e)}).then(function(){return setTimeout(t,5e3)})["catch"](function(e){return console.log("Request failed",e)})}function n(e){e.focuses.forEach(function(t){[].concat(_toConsumableArray(o)).filter(function(e){return e.dataset.focus==t.id}).shift().innerHTML=t.html})}var i="",o="";return{init:e}}();var initClipboardToolTips=function initClipboardToolTips(e){e.on("success",function(e){$(e.trigger).attr("title",trans.copied).tooltip("fixTitle").tooltip("show"),$(e.trigger).mouseout(function(){$(this).tooltip("hide").tooltip("destroy")})}),e.on("error",function(e){var t="";t=/iPhone|iPad/i.test(navigator.userAgent)?trans.no_support:/Mac/i.test(navigator.userAgent)?trans.mac_press:trans.windows_press,$(e.trigger).attr("title",t).tooltip("fixTitle").tooltip("show"),$(e.trigger).mouseout(function(){$(this).tooltip("hide").tooltip("destroy")})})};ql.cloudTerminal=function(){function t(e){var t=document.querySelector("#embedded-resource");null!==t&&t.src!==e&&(t.src=e)}return{update:function n(e){if(null!==e){if(!new URL(e).host.endsWith(".qwiklabs.com"))throw"studentUrl must be on a subdomain of qwiklabs.com: "+e;t(e)}},reset:function e(){t("")}}}(),ql.collaboratorsEdit=function(){function e(){$collaboratorList=$(".js-collaborator-list"),$errorFeedback=$(".js-add-collaborator-error"),t(),n()}function t(){$(".js-add-collaborator-form").on("ajax:before",function(){$errorFeedback.empty()}).on("ajax:success",function(e,t){i(t.rendered)}).on("ajax:error",function(e,t){o(t.responseJSON)})}function n(){$(document).on("ajax:success",".js-collaborator-item",function(e){e.currentTarget.remove(),e.preventDefault()}).on("ajax:error",".js-delete-permission",function(e,t){o(t.responseJSON)})}function i(e){$collaboratorList.append(e),$collaboratorList.scrollTop($collaboratorList[0].scrollHeight),$collaboratorList.find(".mdl-list__item").last().addClass("is-new")}function o(e){errors=e.errors,errors.forEach(function(e){$errorFeedback.append("<p>"+e+"</p>")})}return $collaboratorList="",$errorFeedback="",{init:e}}(),$(function(){$(".js-accept-cookies").click(function(){document.cookie="cookie_consent= true",$(".cookie-bar").hide()})}),ql.course={schedule:function(){function e(){i=document.querySelectorAll(".js-more-details"),o=document.querySelectorAll(".js-less-details"),i.forEach(function(e){e.addEventListener("click",t,!1)}),o.forEach(function(e){e.addEventListener("click",n,!1)})}function t(e){e.preventDefault(),this.style.display="none",this.parentElement.querySelector(".js-less-details").style.display="block"}function n(e){e.preventDefault(),this.style.display="none",this.parentElement.querySelector(".js-more-details").style.display="block"}var i=undefined,o=undefined;return{init:e}}()},ql.courseVideo=function(){function e(){window.YT&&(YT.ready(function(){new YT.Player("video",{events:{onStateChange:t}})}),setInterval(n,i))}function t(e){var t=(new Date).getTime();e.data===YT.PlayerState.PLAYING?o=t:o&&(a+=t-o,o=null)}function n(){if(o){var e=(new Date).getTime();a+=e-o,o=e}0<a&&a<2*i&&$.post(window.location.pathname+"/viewed",{deltaTime:a}),a=0}var i=5e3,o=(undefined,undefined),a=0;return{init:e}}(),ql.discovery=function(){function e(){t(".in-progress-cards .js-content-card","in-progress"),t(".favorite-cards .js-content-card","favorite"),t(".curated-cards .js-content-card","curated"),t(".featured-cards .js-content-card","featured"),t(".upcoming-cards .js-content-card","upcoming"),t(".popular-cards .js-content-card","popular")}function t(e,r){document.querySelectorAll(e).forEach(function(s){s.addEventListener("click",function(){var e=s.dataset,t=e.id,n=e.name,i=e.type,o=e.level,a=e.path;ql.track("discover_catalog_item",{label:r,id:t,name:n,type:i,level:o,path:a})})})}return{init:e}}(),ql.editV2Lab={gdoc_or_markdown:function Jg(e){"Google Doc"==e?(document.querySelector(".instructions_google_doc").style.display="block",document.querySelector(".instructions_markdown").style.display="none"):(document.querySelector(".instructions_google_doc").style.display="none",document.querySelector(".instructions_markdown").style.display="block")},switch_resource:function Kg(e){"video"==e||"link"==e?(document.querySelector(".resource_video_link").style.display="block",document.querySelector(".resource_file").style.display="none"):(document.querySelector(".resource_video_link").style.display="none",document.querySelector(".resource_file").style.display="block")},switch_lab_resource:function Lg(i,o,e){function t(e,t,n,i){var o=document.querySelector(".script_fields"),a=document.querySelectorAll(".custom_fields"),s=document.querySelector(".ssh_key_user"),r=document.querySelector(".roles_fields"),c=document.querySelectorAll(".policy_fields");o.style.display=e?"block":"none",a.forEach(function(e){return e.style.display=t?"block":"none"}),s.style.display=t?"block":"none",r.style.display=n?"block":"none",c.forEach(function(e){return e.style.display=i?"block":"none"})}var a=document.querySelector("#lab_resource_variant"),n=a.options;Array.from(n).forEach(function(e){return e.remove(a)}),e=e.replace(/&quot;/g,'"').replace(/=&gt;/g,":").replace(/=>/g,":"),(e=JSON.parse(e))[i].forEach(function(e,t){if("gcp_project"!=i||"gcpedu"!=e&&"gcpasl"!=e){var n=document.createElement("option");(n.text=e)==o?n.selected=!0:"nil"==o&&0==t&&(n.selected=!0),a.options.add(n)}}),"gcp_project"==i?t(!0,!0,!1,!1):"linux_terminal"==i||"ide"==i||"windows_vm"==i?t(!0,!1,!1,!1):"gcp_user"==i?t(!1,!1,!0,!1):"aws_account"==i?t(!0,!1,!1,!0):"google_workspace_domain"==i?t(!1,!1,!1,!1):"looker_instance"!=i&&"cloud_terminal"!=i||t(!0,!1,!0,!1)},hide_document:function Mg(e){script=document.getElementById(e),script&&(script.style.display="none")},update_script_state:function Ng(e,t,n){document.getElementById(e).value=t,ql.editV2Lab.hide_document(n)},add_custom_properties:function Og(e){var t=document.createElement("div");t.className="form-row";var n=Date.now(),i=e+"_custom_property_"+n;t.setAttribute("id",i);var o=document.createElement("div");o.classList.add("control-group","text");var a=document.createElement("Label");a.className="label",a.setAttribute("for","key"),a.innerHTML="Key";var s=document.createElement("input");s.className="input",s.setAttribute("id","key"),s.setAttribute("required",!0),s.setAttribute("name","resource_config["+e+"_custom_properties]["+n+"][key]"),o.appendChild(a),o.appendChild(s);var r=document.createElement("div");r.classList.add("control-group","text");var c=document.createElement("Label");c.className="label",c.setAttribute("for","value"),c.innerHTML="Value / Reference";var l=document.createElement("input");l.className="input",l.setAttribute("id","value"),l.setAttribute("required",!0),l.setAttribute("name","resource_config["+e+"_custom_properties]["+n+"][value]"),r.appendChild(c),r.appendChild(l);var u=document.createElement("div");u.classList.add("control-group","text");var d=document.createElement("Label");d.className="label",d.setAttribute("for","property_type"),d.innerHTML="Type";var m=document.createElement("Select");m.className="input",m.setAttribute("id","property_type"),m.setAttribute("name","resource_config["+e+"_custom_properties]["+n+"][type]");var f=document.createElement("option");f.text="value",m.appendChild(f);var h=document.createElement("option");h.text="reference",m.appendChild(h),u.appendChild(d),u.appendChild(m);var p=document.createElement("ql-icon-button");p.setAttribute("onclick","ql.editV2Lab.delete_custom_properties('"+i+"')"),p.setAttribute("icon","delete"),p.classList.add("link--danger"),t.appendChild(o),t.appendChild(r),t.appendChild(u),t.appendChild(p),document.getElementById(e+"_add_custom_property").before(t)},delete_custom_properties:function Pg(e){var t=document.getElementById(e);t.parentNode.removeChild(t)}},ql.exam=function(){function e(){setInterval(function(){$.get(window.location.pathname+"/status").fail(function(){return window.location.reload()})},5e3),document.querySelector("ql-quiz").addEventListener("submit",function(){return window.location.reload()})}return{init:e}}(),ql.favoriting=function(){function e(){document.querySelectorAll(".js-favorite-button").forEach(function(e){e.addEventListener("click",t,!1)})}function t(e){e.preventDefault(),e.stopImmediatePropagation(),n.call(this),o.call(this)}function n(){var e=i(this.dataset.type),t=this.dataset.name;this.href.includes("unfavorite")?ql.track("clicked_unfavorite_button",{type:e,label:t}):ql.track("clicked_favorite_button",{type:e,label:t})}function i(e){var t=undefined;switch(e){case"CatalogItem":t="Lab";break;case"LearningPath":t="Quest";break;case"ClassroomTemplate":t="Course";break;default:cateogry=e}return t}function o(){var t=this,e=new Request(this.href,{method:"POST",credentials:"include",headers:new Headers({"X-CSRF-Token":document.querySelector('meta[name="csrf-token"]').content})});fetch(e).then(status).then(json).then(function(e){console.log(e),e.alert?console.error(e.alert):(t.setAttribute("href",e.path),t.setAttribute("tip",e.tooltip),t.setAttribute("aria-label",e.tooltip),t.innerHTML=e.icon,$card=t.closest(".js-content-card"),$card&&$card.classList.toggle("is-unfavorited"))})}return{init:e}}(),ql.filter={filter:function(){function e(){$form=document.querySelector(".js-filter-form"),$form&&($inputs=$form.querySelectorAll("input"),$inputs.forEach(function(e){return e.addEventListener("click",t)}))}function t(e){var t="any",n=e.currentTarget.closest(".js-list-item"),i=n.querySelector('input[value="'+t+'"]');e.currentTarget.value===t?n.querySelectorAll('input:checked:not([value="'+t+'"])').forEach(function(e){s(e)}):i.checked&&s(i),n.querySelectorAll("input:checked").length||a(i),numActive=n.querySelectorAll('input:checked:not([value="'+t+'"])').length
;var o=numActive?"("+numActive+")":"";n.querySelector(".active-filter-number").textContent=o,ql.track(this.checked?"checked_filter":"unchecked_filter",{label:this.id}),ql.searchFilter()}function n(e){return e.closest(".mdl-checkbox")}function a(e){n(e).classList.add("is-checked"),e.checked=!0}function s(e){n(e).classList.remove("is-checked"),e.checked=!1}return $form={},{init:e}}()},ql.searchFilter=function(){var e=document.querySelector(".js-filter-form"),t=document.querySelector(".js-header-search-bar.is-open")?document.querySelector(".js-search-form-mobile"):document.querySelector(".js-search-form");return e?(t&&(e.querySelector("input[name='keywords']").value=t.querySelector("input[name='keywords']").value,e.querySelector("input[name='locale']").value=t.querySelector("input[name='locale']").value),document.querySelector(".js-custom-filter-form")||e.submit()):t&&t.submit(),!1},ql.game=function(){function e(e){var t=document.querySelector(".js-lab-leaderboard");null!=e&&null!=t&&(t.players=JSON.parse(e))}return{updateLabLeaderboard:e}}(),ql.initHeader=function(){$(".js-header-search-bar-button").click(function(){$(".js-header-search-bar").addClass("is-open"),$(".js-header-search-bar input").focus()}),$(".js-header-search-bar .js-close-search-bar").click(function(){$(".js-header-search-bar").removeClass("is-open")})},ql.header={myAccount:function(){function e(){n=document.querySelector(".js-my-account-menu"),i=document.querySelector(".js-main"),n&&($myAccountButton=document.querySelector(".js-my-account-button"),$myAccountButton.addEventListener("click",t,!1))}function t(){n.classList.toggle("is-open")?(ql.track("opened_my_account_menu"),i.addEventListener("click",t,!1)):i.removeEventListener("click",t,!1)}var n=undefined,i=undefined;return{init:e}}()},function(n){function i(e,t){this.instructionId=e,this.refreshPage=t,this.refreshing=!1,this.refresh=function(){var t=this;this.refreshing?console.log("Already polling. Ignoring this refresh."):(this.startRefreshing(),$.post("/authoring/instructions/"+this.instructionId+"/refresh.json").done(function(){setTimeout(function(){return t.pollStatus()},2e3)}).fail(function(e){console.log(e),t.stopRefreshing()}))},this.pollStatus=function(){var t=this;n.getJson("/instructions/"+this.instructionId+"/status.json").then(function(e){"failed"==e.state?(n.showFlash("error",e.message),t.stopRefreshing()):"completed"==e.state?(n.showFlash("notice",e.message),t.refreshPage?window.location.reload():t.stopRefreshing()):setTimeout(function(){return t.pollStatus()},5e3)})["catch"](function(e){t.stopRefreshing(),console.log(e)})},this.startRefreshing=function(){var e=this.instructionId;this.refreshing=!0,$(".refresh-instruction-spinner-"+e).removeClass("hidden"),$(".refresh-instruction-button-"+e).addClass("hidden")},this.stopRefreshing=function(){var e=this.instructionId;this.refreshing=!1,$(".refresh-instruction-spinner-"+e).addClass("hidden"),$(".refresh-instruction-button-"+e).removeClass("hidden")}}n.refreshInstruction=function(e,t){new i(e,t).refresh()}}(ql),ql.instructionVariables={update:function Ni(t){document.querySelectorAll("ql-variable").forEach(function(e){return e.load(t)})},reset:function Oi(){document.querySelectorAll("ql-variable").forEach(function(e){return e.load()})}},initLaunchWithSubscriptionButtonListener=function(){$(".js-launch-with-subscription-button").click(function(){$(this).attr("disabled")||($(".js-launch-with-credits-input").val(0),$(".js-launch-with-subscription-input").val(1),$(".js-launch-with-access-code").val(0),submitLabAccessForm())})},initLaunchWithCreditsButtonListener=function(){$(".js-launch-with-credits-button").click(function(){$(this).attr("disabled")||($(".js-launch-with-credits-input").val(1),$(".js-launch-with-subscription-input").val(0),$(".js-launch-with-access-code").val(0),submitLabAccessForm())})},initLaunchWithAccessCodeButtonListener=function(){$(".js-launch-with-access-code-button").click(function(){$(this).attr("disabled")||($(".js-launch-with-credits-input").val(0),$(".js-launch-with-subscription-input").val(0),$(".js-launch-with-access-code").val(1),submitLabAccessForm())})},initLaunchButtonListener=function(){$(".js-launch-button").click(function(){$(this).attr("disabled")||($(".js-launch-with-credits-input").val(0),$(".js-launch-with-subscription-input").val(0),$(".js-launch-with-access-code").val(0),submitLabAccessForm())})},initLabAccessFormListener=function(){$(".js-lab-access-form").on("ajax:success",function(){ql.labRun.startLab({accessSuccess:!0})}).on("ajax:error",function(e,t){$(".js-access-code input").val(""),alertLabAccessError(t.responseText),ql.labControlPanel.reset()}).on("ajax:complete",function(){enableLabAccessModalButtons()})},initAutoTabAccessCode=function(){var t=0;$(".js-access-code-input").on("keyup",function(e){8===e.keyCode&0===t&&$(this).prev(".js-access-code-input").focus(),t=this.value.length}),$(".js-access-code-input").on("input",function(){this.value.length===this.maxLength&&($(this).next(".js-access-code-input").focus(),t=0)})},submitLabAccessForm=function(){disableLabAccessModalButtons(),$(".js-lab-access-form").submit(),$("#lab-access-modal").modal("hide"),ql.labControlPanel.setStarting()},alertLabAccessError=function(e){$("#lab-access-modal").modal("hide"),$(".js-alert-message").html(e),$(".js-alert").removeClass("alert-success").addClass("alert-error").css("display","flex")},disableLabAccessModalButtons=function(){$(".js-lab-access-modal-button").attr("disabled",!0)},enableLabAccessModalButtons=function(){$(".js-lab-access-modal-button").attr("disabled",!1)},initLabAccessModal=function(){initLaunchWithSubscriptionButtonListener(),initLaunchWithCreditsButtonListener(),initLaunchWithAccessCodeButtonListener(),initLaunchButtonListener(),initLabAccessFormListener(),initAutoTabAccessCode()},ql.labActivityTracking={reset:function cj(){document.querySelectorAll("ql-activity-tracking,ql-activity-tracking-ch").forEach(function(e){return e.reset()})}},ql.labAlert={alertMessage:function ej(e){var t=document.getElementById("alert-snackbar");t.setAttribute("error",!0),t.innerHTML=e,t.open()},alertHttpError:function fj(e){e.response.text().then(function(e){ql.labAlert.alertMessage(e)})}},ql.labAssessment=function(){var o=function o(e,n){$.get("/assessments/run_step.json?id="+e+"&step="+n).done(function(e){ql.labAssessment.update(e),int_no=parseInt(n)-1;var t=e.completion_only?"":"Check complete. Points earned: "+e.step_scores[int_no]+". Message: ";e.step_scores[int_no]==e.step_points[int_no]?(t+=""+(e.student_messages[int_no]||"Step is complete."),ql.showFlash("notice",t)):(t+=""+(e.student_messages[int_no]||"It doesn't look like you've completed this step yet. Try again."),ql.showFlash("error",t))}).fail(function(){alert("Failed to update assessment")})};return{init:function e(){$(".js-open-lab-assessment-panel").click(function(){$(".js-lab-assessment-panel").addClass("is-open")}),$(".js-close-lab-assessment-panel").click(function(){$(".js-lab-assessment-panel").removeClass("is-open")}),$(".js-show-run-step-button").on("click",function(){var e=ql.labData.getLabInstanceId(),t=$(this).attr("step_no");e!==undefined&&ql.labData.isRunning()&&o(e,t)})},update:function n(e){if(void 0!==e&&"undefined"!=typeof e.total_score&&0!==e.total_score.length){var t="";for(t=e.completion_only?e.completed_steps+"/"+e.total_steps:e.total_score+"/"+e.perfect_score,$(".js-lab-assessment-total-score").html(t),i=1;i<=parseInt(e.total_steps);i++)e.completion_only?e.step_complete[i-1]?($(".js-assessment-step-score-"+i+" i:first-child").addClass("fa-check"),$(".js-assessment-step-score-"+i+" i:first-child").removeClass("fa-times")):($(".js-assessment-step-score-"+i+" i:first-child").addClass("fa-times"),$(".js-assessment-step-score-"+i+" i:first-child").removeClass("fa-check")):$(".js-assessment-step-score-"+i).html(e.step_scores[i-1])}},reset:function t(){var e=$(".js-lab-assessment-total-score").html();void 0!==e&&(e=e.replace(/.*\//,"\u2014/"),$(".js-lab-assessment-total-score").html(e),$('*[class^="js-assessment-step-score"]').html("\u2014"))}}}();var t="";initFakeAlertCloseListener=function(){$(".js-alert-close").click(function(){$(".js-alert").hide()})},initCopyCode=function(){$("pre code").each(function(t,e){$(e).after('<button class="button button--text button--small copy-button js-copy-button-'+t+'"><ql-icon>content_copy</ql-icon></button>');var n=document.getElementsByClassName("no-select")[0],i=new Clipboard(".js-copy-button-"+t,{target:function o(e){return n&&n.classList.remove("no-select"),e.previousElementSibling}});i.on("success",function(){n&&n.classList.add("no-select"),document.getSelection().removeAllRanges(),$(".js-copy-button-"+t).attr("title",trans.copied).tooltip("fixTitle").tooltip("show")}),i.on("error",function(){n&&n.classList.add("no-select"),document.getSelection().removeAllRanges();var e="";e=/iPhone|iPad/i.test(navigator.userAgent)?trans.no_support:/Mac/i.test(navigator.userAgent)?trans.mac_press:trans.windows_press,$(".js-copy-button-"+t).attr("title",e).tooltip("fixTitle").tooltip("show")}),$(".js-copy-button-"+t).mouseout(function(){$(this).tooltip("hide").tooltip("destroy")})})},initImageZoom=function(){$(".js-lab-content img").click(function(){var e=$(this).attr("src");$("body").append('<div class="lab-content__image-overlay js-zoomed-image"><img class="lab-content__image" src='+e+" /></div>").find(".js-zoomed-image").click(function(){$(".js-zoomed-image").remove()})})},initPrettyPrint=function(){$(function(){prettyPrint()})},initCodeTabs=function(){var e=Array.from(document.querySelectorAll("ql-code"));e.forEach(function(n){return n.addEventListener("tabchange",function(t){return e.filter(function(e){return e!==n}).forEach(function(e){return e.setLanguage(t.detail.newTab.language)})})})},initLabContent=function(){initFakeAlertCloseListener(),initCopyCode(),initImageZoom(),initPrettyPrint(),initCodeTabs()},ql.labControlPanel=function(){var s=undefined;return{init:function n(){function e(){window.confirm(trans.are_you_sure)&&ql.labRun.stopLab()}(s=document.querySelector(".js-lab-control-panel")).addEventListener("clickedStartLab",function(){return requestStartLab()}),s.addEventListener("clickedStopLab",e),$(".js-end-lab-button").on("clickedStopLab",e);var t=document.querySelector("#toggle-lab-control-panel");t&&t.addEventListener("click",function(){s.classList.toggle("toggled")})},update:function t(e){s.labControlButton=e.labControlButton,s.labTimer=e.labTimer,s.billingLimitRemainder=e.billingLimitRemainder,s.provisioning=e.provisioning,s.provisioningSecondsRemaining=e.provisioningSecondsRemaining,s.labDetails=e.labDetails,s.connectionFiles=e.connectionFiles},reset:function r(){s.labControlButton={running:!1,pending:!1},s.billingLimitRemainder=ql.labData.getLabBillingLimit(),s.provisioning=!1,s.provisioningSecondsRemaining=null,s.connectionFiles=[],s.labDetails=[];var e=!0,t=!(s.labTimer={ticking:!1,secondsRemaining:ql.labData.getLabDuration()}),n=undefined;try{for(var i,o=document.querySelectorAll(".js-end-lab-button-container")[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){i.value.classList.add("hidden")}}catch(a){t=!0,n=a}finally{try{!e&&o["return"]&&o["return"]()}finally{if(t)throw n}}this.hideV2Recaptcha()},setStarting:function e(){s.labControlButton={running:!1,pending:!0}},setStopping:function i(){s.labControlButton={running:!0,pending:!0}},setRunning:function o(){s.labControlButton={running:!0,pending:!1}},showV2Recaptcha:function a(){$("#recaptcha-v2-start-lab").removeClass("hidden")},hideV2Recaptcha:function c(){$("#recaptcha-v2-start-lab").addClass("hidden")},addRecaptchaErrorHandler:function l(){window.addEventListener("unhandledrejection",function(e){-1<e.reason.stack.indexOf("recaptcha")&&ql.labControlPanel.showV2Recaptcha()})}}}(),ql.labData=function(){var e=undefined,t=undefined,n=undefined,i=undefined;return{clearLabInstanceId:function o(){t=null},getLabInstanceId:function a(){return t},setLabInstanceId:function s(e){t=e},getAnalyticsPayload:function r(){return e.analyticsPayload},getLabBillingLimit:function c(){return Number(e.labBillingLimit)},getLabDuration:function l(){return Number(e.labDuration)},getFocusId:function u(){return e.focusId},getParent:function d(){return e.parent},getQlcampaign:function m(){return e.qlcampaign},isRecaptchaEnabled:function f(){return null!=e.recaptchaEnabled},getRecaptchaV3Token:function h(){return n},setRecaptchaV3Token:function p(e){n=e},getRecaptchaV2Token:function b(){return i},setRecaptchaV2Token:function v(e){i=e},isPaymentRequired:function g(){return null!=e.paymentRequired},isWarningGiven:function y(){return null!=e.warningGiven},isRunning:function q(){return null!=t},init:function _(){e=$(".js-lab-state").data(),t=e.labInstanceId}}}(),ql.editRows=function(){function e(){a=document.querySelectorAll(".js-edit-row"),s=document.querySelector(".js-edit-title"),r=[s].concat(_toConsumableArray(a)),a.forEach(function(e){return e.addEventListener("click",n)}),s.addEventListener("click",o),$errorFields=document.querySelectorAll(".has-error"),$errorFields.forEach(function(e){$row=e.closest(".js-edit-row"),i($row)}),$inputs=document.querySelectorAll(".js-lab-details input"),$inputs.forEach(function(e){e.addEventListener("keyup",t)})}function t(){$editRow=this.closest(".js-edit-row"),this.checkValidity()?$editRow.classList.remove("is-invalid"):$editRow.classList.add("is-invalid")}function n(){if(!this.classList.contains("is-selected")){o(),i(this);var e=this.querySelectorAll("input"),t=this.querySelectorAll("select"),n=this.querySelectorAll("textarea");n[0]?n[0].focus():t[0]?t[0].focus():e[0]&&e[0].focus()}}function i(e){var t=r.indexOf(e);r[t].classList.add("is-selected"),r[t].style.height=e.scrollHeight+24+"px",r[t-1]&&r[t-1].classList.add("is-bottom"),r[t+1]&&r[t+1].classList.add("is-top")}function o(){r.forEach(function(e){e.classList.remove("is-selected"),e.classList.remove("is-bottom"),e.classList.remove("is-top"),e.style.height="64px"})}var a="",s="",r=[];return{init:e}}(),ql.additionalResources=function(){function e(){$(document).on("nested:fieldAdded",t),$(document).on("nested:fieldRemoved",n)}function t(e){$editRow=e.target.closest(".js-edit-row"),$editRow.style.height=$editRow.scrollHeight+16+"px",ql.initMaterialInputs($editRow)}function n(e){$editRow=e.target.closest(".js-edit-row"),$editRow.style.height=$editRow.scrollHeight-i-16+"px"}var i=122;return{init:e}}(),ql.deploymentManager=function(){function e(){n=document.querySelector(".js-dm"),i=document.querySelector(".js-remove-dm-button"),o=document.querySelector(".js-remove-dm"),i.addEventListener("click",t)}function t(){n.href="",n.style.color="red",n.style.fontWeight="400",n.style.textDecoration="line-through",o.value=1,i.remove()}var n="",i="",o="";return{init:e}}(),ql.cloudFormation=function(){function e(){n=document.querySelector(".js-cf"),i=document.querySelector(".js-remove-cf-button"),o=document.querySelectorAll(".js-remove-cf"),i.addEventListener("click",t)}function t(){n.href="",n.style.color="red",n.style.fontWeight="400",n.style.textDecoration="line-through",o.forEach(function(e){return e.value=""}),i.remove()}var n="",i="",o="";return{init:e}}(),ql.studentPolicy=function(){function e(){n=document.querySelector(".js-sp"),i=document.querySelector(".js-remove-sp-button"),o=document.querySelectorAll(".js-remove-sp"),i.addEventListener("click",t)}function t(){n.href="",n.style.color="red",n.style.fontWeight="400",n.style.textDecoration="line-through",o.forEach(function(e){return e.value=""}),i.remove()}var n="",i="",o="";return{init:e}}(),ql.instruction=function(){function e(){$instructionContent=document.querySelector(".js-instruction-content"),$instructionHeader=document.querySelector(".js-instruction-header"),$instructionLoader=document.querySelector(".js-instruction-loader"),$instructionRefresh=document.querySelector(".js-instruction-refresh"),ql.subscribe("received-instruction-status",o),$instructionRefresh&&$instructionRefresh.addEventListener("click",t,!1)}function t(e){e.stopImmediatePropagation(),e.preventDefault(),$instructionContent.classList.add("is-faded"),$instructionLoader.classList.remove("is-hidden");var t=new Request(this.href,{method:"POST",credentials:"include",headers:new Headers({"X-CSRF-Token":document.querySelector('meta[name="csrf-token"]').content})});fetch(t).then(status).then(json).then(function(e){return n(e.status_path)})["catch"](s)}function n(e){instructionPoller=new ql.Poller(e,1e3,i,s),instructionPoller.start()}function i(e){ql.publish("received-instruction-status",e)}function o(e){"completed"==e.state&&(instructionPoller.stop(),ql.getHtml(e.display_path).then(a)["catch"](s))}function a(e){$instructionContent.innerHTML=e,$instructionContent.classList.remove("is-faded"),$instructionContent.classList.remove("is-hidden"),$instructionHeader.classList.remove("has-error"),$instructionLoader.classList.add("is-hidden")}function s(e){var t="Response not a JSON";"string"==typeof e?e.json().then(function(e){t=e.errors}):t=e.statusText,htmlSafeMessage=$("<div>").text(t).html(),$instructionContent.innerHTML="<div class='lab__instructions__error'>\n        <i class='material-icons'>error_outline</i>\n        <p>"+htmlSafeMessage+"</p>\n      </div>",$instructionContent.classList.remove("is-faded"),$instructionContent.classList.remove("is-hidden"),$instructionHeader.classList.add("has-error"),$instructionLoader.classList.add("is-hidden")}return $instructionCard="",$instructionContent="",$instructionHeader="",$instructionLoader="",$instructionRefresh="",instructionPoller={},{init:e,poll:n}}(),ql.downloadLab=function(){function e(){function e(){t.setAttribute("disabled","disabled"),t.querySelector("i").innerText="checkmark"}var t=document.getElementById("file_download-header");null!==t&&t.addEventListener("click",e)}return{init:e}}(),ql.publishLab=function(){function e(){$publishButton=document.querySelector(".js-publish-button"),$toast=document.querySelector(".js-toast"),$toastMessage=document.querySelector(".js-toast-message"),$toastLoader=$toast.querySelector(".mdl-js-progress"),ql.subscribe("received-publish-status",o),$publishButton.addEventListener("click",t)}function t(e){e.preventDefault();var t=new Request(this.href,{method:"POST",credentials:"include",headers:new Headers({"X-CSRF-Token":document.querySelector('meta[name="csrf-token"]').content})});fetch(t).then(status).then(json).then(function(e){return n(e.status_path)})["catch"](console.error)}function n(e){publishPoller=new ql.Poller(e,500,i),publishPoller.start()}function i(e){ql.publish("received-publish-status",e)}function o(e){"done"==e.status||"error"==e.status?(publishPoller.stop(),$toastLoader.classList.remove("is-visible"),$toastMessage.innerHTML=e.html):$toastLoader.classList.contains("is-visible")||($toastLoader.classList.add("is-visible"),$toastMessage.innerHTML=e.html),"error"===e.status?(ql.showFlash("warn",e.html),$toast.classList.remove("is-visible")):$toast.classList.add("is-visible")}return $publishButton="",$toast="",$toastMessage="",$toastLoader="",publishPoller={},{init:e,poll:n}}(),ql.labLocale=function(){function e(){$newLocaleButton=document.querySelector(".js-new-locale"),$dialog=document.querySelector(".js-dialog"),$localeDialogBody=$dialog.querySelector(".js-new-lab-locale"),localeDialog=new ql.MaterialDialog($dialog),$newLocaleButton.addEventListener("click",t)}function t(e){e.preventDefault(),ql.getHtml(this.href).then(n).then(i)["catch"](console.error)}function n(e){$localeDialogBody.innerHTML=e,ql.initMaterialInputs($localeDialogBody),localeDialog.open()}function i(){$(document).on("ajax:success","form",function(e,t,n,i){$(document).off("ajax:success"),localeDialog.close(),window.location.replace(i.responseJSON.url)}).on("ajax:error","form",function(e,t,n,i){console.error(i)})}return $dialog="",$newLocaleButton="",$localeDialogBody="",localeDialog={},{init:e}}(),ql.tagSelect=function(){function e(){n=document.querySelector(".js-chosen-tags").closest(".js-edit-row"),$(".js-chosen-tags").chosen().change(t)}function t(){$chosenContainers=n.querySelectorAll(".chosen-container");var t=293;$chosenContainers.forEach(function(e){t+=e.offsetHeight}),n.style.height=t+"px"}var n=undefined;return{init:e}}(),ql.permissionsSelect=function(){function e(){r=document.querySelector(".js-permissions-advanced-link"),s=document.querySelector(".js-chosen-permissions"),(a=document.querySelector(".js-permissions-input")).addEventListener("change",n),r.addEventListener("click",i),$(".js-chosen-permissions").chosen().change(t)}function t(){var e=[].concat(_toConsumableArray(this.selectedOptions)).map(function(e){return e.value}).join("\r\n");a.value=e,o()}function n(){this.classList.contains("is-visible")&&([].concat(_toConsumableArray(s.querySelectorAll("option"))).forEach(function(e){return e.selected=!1}),this.value.split("\n").forEach(function(e){var t=s.querySelector("[value='"+e+"']");t&&(t.selected=!0)}),$(".js-chosen-permissions").trigger("chosen:updated"));o()}function i(){a.classList.toggle("is-visible"),$chosen=document.querySelector(".js-permissions .chosen-container"),$chosen.classList.toggle("is-hidden"),$editRow=this.closest(".js-edit-row"),$editRow.classList.toggle("is-advanced"),newLabel=this.dataset.label,oldLabel=this.innerText,this.setAttribute("data-label",oldLabel),this.innerText=newLabel,o()}function o(){$chosen=document.querySelector(".js-permissions .chosen-container"),h=$chosen.offsetHeight,$editRow=$chosen.closest(".js-edit-row"),$editRow.style.height=h+114+"px"}var a="",s="",r="";return{init:e}}(),ql.disableLab=function(){function e(){$disableButton=document.querySelector(".js-disable-lab"),$disableIcon=$disableButton.querySelector("ql-icon"),$disableButton.addEventListener("click",t,!1),$disableNotice=document.querySelector(".js-disable-notice"),ql.subscribe("labUpdated",i)}function t(e){e.preventDefault(),e.stopImmediatePropagation(),n(this.href)}function n(e){fetch(e,{method:"PATCH",credentials:"include",headers:new Headers({"X-CSRF-Token":document.querySelector('meta[name="csrf-token"]').content,Accept:"application/json","Content-Type":"application/json"})}).then(status).then(json).then(function(e){return ql.publish("labUpdated",e)})["catch"](function(e){return console.log(e)})}function i(e){var t=e.disabled_for_catalogs_at?"disable":"enable",n=e.disabled_for_catalogs_at?"enable":"disable",i=e.disabled_for_catalogs_at?"check_box":"check_box_outline_blank",o=e.disabled_for_catalogs_at?"Enable lab":"Disable lab",a=$disableButton.href.replace(t,n);$disableButton.href=a,$disableIcon?$disableIcon.innerHTML=i:$disableButton.innerHTML=o,e.disabled_for_catalogs_at?$("#modal_disable").modal("show"):$disableNotice.remove()}return $disableButton={},$disableIcon={},$disableNotice={},{init:e}}(),ql.labIndexView=function(){function e(){(n=[].concat(_toConsumableArray(document.querySelectorAll(".js-lab-row")))).length&&(n[i].focus(),window.addEventListener("keyup",t))}function t(e){"ArrowDown"===e.key?n[i+1]&&n[++i].focus():"ArrowUp"===e.key&&n[i-1]&&n[--i].focus()}var n=[],i=0;return{init:e}}(),ql.labInlineInstructionComponents=function(){var e=["ql-activity-tracking","ql-activity-tracking-ch","ql-multiple-choice-probe","ql-multiple-select-probe","ql-true-false-probe"].join(", ");return{updateLabInstanceId:function t(){$(e).attr("labInstanceId",ql.labData.getLabInstanceId())}}}(),ql.labLayout={setTerminalLayout:function qn(){var e=document.getElementById("terminal-drawer"),t=document.getElementById("control-panel-drawer"),n=document.getElementById("outline-drawer"),i=document.querySelector(".js-lab-control-panel"),o=document.getElementById("control-panel-menu"),a=document.getElementById("control-panel-target"),s=!0,r=!1,c=undefined;try{for(var l,u=document.querySelectorAll(".js-end-lab-button-container")[Symbol.iterator]();!(s=(l=u.next()).done);s=!0)l.value.classList.remove("hidden")}catch(d){r=!0,c=d}finally{try{!s&&u["return"]&&u["return"]()}finally{if(r)throw c}}o.children[0]!==i&&(o.appendChild(i),a.style.display="block",o.open()),t&&(t.open=!1),n&&(n.open=!1),e&&(e.open=!0)},reset:function rn(){var e=document.getElementById("terminal-drawer"),t=document.getElementById("control-panel-drawer"),n=document.getElementById("outline-drawer"),i=document.querySelector(".js-lab-control-panel"),o=document.getElementById("control-panel-target");t.appendChild(i),o.style.display="none",e&&(e.open=!1),t&&(t.open=!0),n&&(n.open=!0)}},ql.labOutline={links:function(){function e(){$container=document.querySelector(".js-lab-wrapper"),o=document.querySelector(".js-lab-content"),s=o.querySelectorAll("h2"),a=document.querySelector(".js-lab-content-outline"),(r=a.querySelectorAll("a")).forEach(function(e){return e.addEventListener("click",t)}),$container.addEventListener("scroll",i)}function t(e){e.preventDefault(),ql.track("clicked_lab_outline",{label:e.target.innerText});var t=e.target.getAttribute("href"),n=o.querySelector(t);n&&$($container).animate({scrollTop:n.offsetTop-c},500,function(){e.target.blur(),i()})}function i(){requestAnimationFrame(function(){var t=$container.scrollTop+l,e=[].concat(_toConsumableArray(s)).filter(function(e){return e.offsetTop<=t});n(e.length?e.pop():null)})}function n(e){if(r.forEach(function(e){return e.classList.remove("is-active")}),r.forEach(function(e){return e.removeAttribute("aria-current")}),null!=e){var t=a.querySelector("a[href='#"+e.id+"']");t.classList.add("is-active"),t.setAttribute("aria-current","step")}}var o=undefined,a=undefined,s=undefined,r=undefined,c=24,l=160;return{init:e}}()};var initRateItListener=function initRateItListener(){$(".js-rateit").bind("keydown",onSliderKeydown.bind(this)),$(".js-rateit").bind("rated",function(e,t){setRating(t),$("#submit").data("disabled")||$("#submit").prop("disabled",!1)}),$("#rate-lab-btn").on("click",function(){return openLabReview()})},openLabReview=function openLabReview(){document.getElementById("lab-review-dialog").open()},initFormSubmitHandler=function initFormSubmitHandler(){$("#submit").on("click",function(){return $(".js-lab-review-form").submit()})},initReviewSubmitListener=function initReviewSubmitListener(){$(".js-lab-review-form").on("ajax:success",function(e,t,n,i){alertLabReviewSuccess(i)}).on("ajax:error",function(e,t){alertLabReviewError(t.responseText)})},alertLabReviewSuccess=function alertLabReviewSuccess(){document.getElementById("lab-review-dialog").close();var e=document.getElementById("alert-snackbar");e.innerHTML=trans.thanks_review,e.open()},alertLabReviewError=function alertLabReviewError(e){document.getElementById("lab-review-dialog").close();var t=document.getElementById("alert-snackbar");t.setAttribute("error",!0),t.innerHTML=JSON.parse(e).message,t.open()},setRating=function setRating(e){$(".js-rating-input").val(e-3);var t=document.getElementById("lab-review-rateit");t.setAttribute("aria-valuenow",e),t.setAttribute("aria-valuetext",transSlider["star_amount_"+e])},moveSliderTo=function moveSliderTo(e){e=Math.min(Math.max(e,1),$("#lab-review-rateit").rateit("max"));$("#lab-review-rateit").rateit("value",e),$("#lab-review-rateit").trigger("rated",e)},onSliderKeydown=function onSliderKeydown(e){var t=$("#lab-review-rateit").rateit("value");switch(e.key){case"ArrowLeft":case"ArrowDown":this.moveSliderTo(t-1);break;case"ArrowRight":case"ArrowUp":this.moveSliderTo(t+1)}},initLabReviewModal=function initLabReviewModal(){initRateItListener(),initReviewSubmitListener(),initFormSubmitHandler()},transSlider={},initLabReviewTranslations=function initLabReviewTranslations(e){transSlider=e};ql.labRun=function(){function e(){i=new hallofmirrors.lab.LabInstancePoller({labRunnerId:ql.labData.getFocusId(),labContainerType:ql.labData.getParent(),successCallback:function t(e){e.isExpired?ql.labRun.stopLab():(ql.labData.setLabInstanceId(e.labInstanceId),ql.labAssessment.update(e.assessmentInfo),ql.game.updateLabLeaderboard(e.gameLeaderboard),ql.labInlineInstructionComponents.updateLabInstanceId(),ql.labControlPanel.update(e),ql.instructionVariables.update(e.resourceData),ql.cloudTerminal.update(e.terminalUrl),e.terminalUrl&&ql.labLayout.setTerminalLayout())},errorCallback:function n(e){console.error("Lab poll error: ",e)}})}var i=undefined;return{init:function t(){ql.labControlPanel.init(),e(),ql.labData.isRunning()&&i.start()},startLab:function o(e){var t=e.accessSuccess;if(!ql.labData.isPaymentRequired()&&!ql.labData.isWarningGiven()||t){ql.labControlPanel.setStarting();var n=function n(){return ql.labData.isRecaptchaEnabled()?executeRecaptchaForStartLabAsync().then(function(e){return ql.labData.setRecaptchaV3Token(e)}):Promise.resolve()};n().then(function(){return ql.labXhr.startLab()}).then(function(e){e.message&&hallofmirrors.snackbarService.alert(e.message),ql.track("lab_started",ql.labData.getAnalyticsPayload()),i.start(),ql.labControlPanel.hideV2Recaptcha(),ql.labData.setRecaptchaV2Token(undefined),ql.labData.setRecaptchaV3Token(undefined)})["catch"](function(e){ql.labControlPanel.reset(),ql.labAlert.alertHttpError(e)})}else $("#lab-access-modal").modal("show")},stopLab:function n(){ql.labControlPanel.setStopping(),ql.track("clicked_end_lab_button",ql.labData.getAnalyticsPayload()),ql.labXhr.stopLab().then(function(e){var t=e.runtime_error,n=e.resource_limit_violation;ql.labData.clearLabInstanceId(),i.stop(),ql.labControlPanel.reset(),ql.labAssessment.reset(),ql.labActivityTracking.reset(),ql.instructionVariables.reset(),ql.cloudTerminal.reset(),ql.labLayout.reset(),t?ql.labAlert.alertMessage(t):n?ql.labAlert.alertMessage(n):document.getElementById("lab-review-dialog").open()})["catch"](function(e){ql.labAlert.alertHttpError(e),ql.labControlPanel.setRunning()})}}}(),ql.labXhr={startLab:function Uo(){return hallofmirrors.lab.labHttpService.startLab({labRunnerId:ql.labData.getFocusId(),labContainerType:ql.labData.getParent(),qlcampaign:ql.labData.getQlcampaign(),recaptchaV3Token:ql.labData.getRecaptchaV3Token(),recaptchaV2Token:ql.labData.getRecaptchaV2Token()})},stopLab:function Vo(){var e=ql.labData.getLabInstanceId();return e?hallofmirrors.lab.labHttpService.endLab({labInstanceId:e}):Promise.resolve({runtime_error:null,resource_limit_violation:null})}},ql.learningPlanEdit=function(){function e(){$(".js-sortable").sortable({placeholder:"sortable-placeholder",tolerance:"pointer",update:function l(){var e=Array.from(document.querySelectorAll(".learnable-position-field")),t=!0,n=!1,i=undefined;try{for(var o,a=e.entries()[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=_slicedToArray(o.value,2),r=s[0];s[1].value=r}}catch(c){n=!0,i=c}finally{try{!t&&a["return"]&&a["return"]()}finally{if(n)throw i}}}})}return{init:e}}(),ql.list=function(){function e(){document.querySelectorAll(".js-list-item").forEach(function(e){$expandToggle=e.querySelector(".js-list-item-expand"),$expandToggle.addEventListener("click",t,!1)})}function t(){$listItem=this.closest(".js-list-item"),$listItemDetails=$listItem.querySelector(".js-list-item-details"),$listItem.classList.toggle("is-expanded");var e=this.offsetHeight+$listItemDetails.offsetHeight;$listItem.style.height=e+"px"}return{init:e}}(),ql.MaterialDialog=function(e,t){this.dialog=e,this.dismissers=$(this.dialog).find("[data-dismiss]"),this.isOpen=t||!1,this.listen(),this.upgrade(),this.render()},ql.MaterialDialog.prototype.upgrade=function(){$(this.dialog).addClass("is-upgraded")},ql.MaterialDialog.prototype.listen=function(){for(var e=0;e<this.dismissers.length;e++)this.dismissers[e].addEventListener("click",this.close.bind(this))},ql.MaterialDialog.prototype.close=function(){this.isOpen=!1,this.render()},ql.MaterialDialog.prototype.open=function(){this.isOpen=!0,this.render()},ql.MaterialDialog.prototype.render=function(){this.isOpen?$(this.dialog).addClass("is-open"):$(this.dialog).removeClass("is-open")},ql.MaterialInput=function(e){this.input=e,this.wrapper=this.input.parentElement.parentElement,this.isFilled=!!this.input.value,this.isValid=!0,this.listen(),this.upgrade()},ql.MaterialInput.prototype.listen=function(){this.input.addEventListener("input",this.setAndRender.bind(this)),this.input.addEventListener("blur",this.setAndRender.bind(this))},ql.MaterialInput.prototype.upgrade=function(){$(this.input).addClass("is-upgraded")},ql.MaterialInput.prototype.setAndRender=function(){this.setAttributes(),this.isFilled?$(this.input).addClass("is-filled"):$(this.input).removeClass("is-filled"),this.isValid?$(this.wrapper).removeClass("has-error"):$(this.wrapper).addClass("has-error")},ql.MaterialInput.prototype.setAttributes=function(){this.setIsFilled(),this.setIsValid()},ql.MaterialInput.prototype.setIsFilled=function(){this.isFilled=!!this.input.value},ql.MaterialInput.prototype.setIsValid=function(){this.isValid=this.input.validity.valid},
ql.initMaterialInputs=function(e){if((e=e||[]).length)var t=e.find(".md-input__input");else t=document.getElementsByClassName("md-input__input");for(var n=0;n<t.length;n++)$(t[n]).hasClass("is-upgraded")||new ql.MaterialInput(t[n])},ql.modals=function(){function e(){$(".modal[data-show]").modal("show"),$(".modal[data-modal-shown-path]").on("show.bs.modal",function(){$.get(this.dataset.modalShownPath)}).modal("show"),document.addEventListener("openModal",t)}function t(e){if(modal=document.getElementById(e.detail.modal),!modal)throw new Error("Modal with id "+e.detail.modal+" not found.");"function"==typeof modal.open?modal.open():$(modal).modal("show")}return{init:e}}(),ql.navPanel=function(){function e(){n=document.querySelector(".js-nav-panel"),document.querySelectorAll(".js-nav-toggle").forEach(function(e){return e.addEventListener("click",t)})}function t(e){e.preventDefault(),n.classList.toggle("is-open"),ql.track("Side navigation toggled",{category:"Navigation"})}var n=undefined;return{init:e}}(),ql.navigation=function(){function e(){document.querySelectorAll(".js-navigation-button").forEach(function(e){e.addEventListener("click",t,!1)})}function t(){ql.track("Navigation link clicked",{category:"Navigation",label:this.title})}undefined;return{init:e}}(),ql.initNewLabWindowListener=function(){$(window).resize(function(){ql.setHorizontal()})},ql.setHorizontal=function(){$(window).width()<600?($(".md-input").removeClass("md-input--horizontal"),$(".js-permissions-select").removeClass("permissions-select__container--horizontal"),$(".js-labs-resources").removeClass("labs__resources--horizontal")):($(".md-input").addClass("md-input--horizontal"),$(".js-student-resources .md-input").removeClass("md-input--horizontal"),$(".js-permissions-select").addClass("permissions-select__container--horizontal"),$(".js-labs-resources").addClass("labs__resources--horizontal"))},ql.initNewStudentResourceListener=function(){$(document).on("nested:fieldAdded",function(e){for(var t=e.field.find(".md-input__input"),n=0;n<t.length;n++)new ql.MaterialInput(t[n])})},ql.initInstructionRemovedListener=function(){$(document).on("nested:fieldRemoved",function(e){e.field.next(".js-add-instruction").click()})};var initNewLab=function initNewLab(){ql.setHorizontal(),ql.initNewLabWindowListener(),ql.initNewStudentResourceListener(),ql.initInstructionRemovedListener()};ql.initNewLabLocale=function(){ql.initNewLabLocaleButtonListener(),ql.initNewLabLocaleSubmitListener()},ql.initNewLabLocaleButtonListener=function(){$(".js-new-lab-locale-button").on("ajax:success",function(e,t,n,i){$(".js-new-lab-locale").html(i.responseText),ql.initMaterialInputs($(".js-new-lab-locale")),ql.newLabLocaleDialog=new ql.MaterialDialog($(".js-dialog"),!0)})},ql.initNewLabLocaleSubmitListener=function(){$(document).on("ajax:success","form",function(e,t,n,i){ql.newLabLocaleDialog.close(),$(".js-lab-locales-table").find(".flex-table__row:nth-child(1)").after(i.responseText),$(".js-lab-locales-table").find(".flex-table__row:nth-child(2)").addClass("is-new")}).on("ajax:error","form",function(){console.log("aww")})},ql.inviteMembers=function(){function e(){$toast=document.querySelector(".js-toast"),$toastMessage=document.querySelector(".js-toast-message"),$toastLoader=$toast.querySelector(".mdl-js-progress"),ql.subscribe("received-operation-status",i)}function t(e){poller=new ql.Poller(e,1e4,n),poller.start()}function n(e){ql.publish("received-operation-status",e)}function i(e){if("finished"===e.status)if(poller.stop(),$toastLoader.classList.remove("is-visible"),e.succeeded)window.location.reload();else{var t=JSON.parse(e.result);ql.showFlash("warn",t.message),$toast.classList.remove("is-visible")}else $toastLoader.classList.contains("is-visible")||$toastLoader.classList.add("is-visible")}return $toast="",$toastMessage="",$toastLoader="",poller={},{init:e,poll:t}}(),ql.customFilter=function(){function e(){$enableCheckbox=document.querySelector(".js-enable-custom-filter"),$enableCheckbox.addEventListener("click",t)}function t(){enable=!0===$enableCheckbox.checked,$.post(window.location.pathname+"/toggle_enable",{enable:enable})}return $enableCheckbox="",{init:e}}(),ql.organizationSubscriptions=function(){function a(e){var t=document.getElementById("card_element_errors"),n=document.getElementById("subscribe_button");e.error?t.textContent=e.error.message:t.textContent="",n.disabled=!1}function t(){localStorage.removeItem("latestInvoiceId"),localStorage.removeItem("latestInvoicePaymentIntentStatus")}function i(e){var t=e.subscription,n=e.invoice,i=e.paymentMethodId,o=e.isRetry;if(t&&"active"===t.status)return{subscription:t,paymentMethodId:i};var a=n?n.payment_intent:t.latest_invoice.payment_intent;return"requires_action"===a.status||!0===o&&"requires_payment_method"===a.status?u.confirmCardPayment(a.client_secret,{payment_method:i}).then(function(e){if(e.error)throw e;if("succeeded"===e.paymentIntent.status)return{subscription:t,invoice:n,paymentMethodId:i}}):{subscription:t,paymentMethodId:i}}function o(e){var t=e.subscription,n=e.paymentMethodId;if("active"===t.status)return{subscription:t,paymentMethodId:n};if("requires_payment_method"===t.latest_invoice.payment_intent.status)throw localStorage.setItem("latestInvoiceId",t.latest_invoice.id),localStorage.setItem("latestInvoicePaymentIntentStatus",t.latest_invoice.payment_intent.status),{error:{message:"Your card was declined."}};return{subscription:t,paymentMethodId:n}}function s(){var e=document.getElementById("subscribe_button").dataset.successMessage;t(),hallofmirrors.snackbarService.alert(e)}function r(t,e){var n=document.getElementById("subscribe_button").dataset.subscriptionPath;return fetch(n,{method:"post",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json","X-CSRF-Token":document.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({subscription:{payment_method_id:t,quantity:e}})}).then(function(e){return e.json()}).then(function(e){if(e.error)throw e;return e}).then(function(e){return{paymentMethodId:t,subscription:e}}).then(i).then(o).then(s)["catch"](function(e){a(e)})}function c(t,e){var n=document.getElementById("subscribe_button").dataset.retryPath;return fetch(n,{method:"post",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json","X-CSRF-Token":document.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({invoice:{payment_method_id:t,invoice_id:e}})}).then(function(e){return e.json()}).then(function(e){if(e.error)throw e;return e}).then(function(e){return{invoice:e,paymentMethodId:t,isRetry:!0}}).then(i).then(s)["catch"](function(e){a(e)})}function l(e){var t=e.card,n=e.isPaymentRetry,i=e.invoiceId,o=$("#payment_seat_quantity").val().trim();return u.createPaymentMethod({type:"card",card:t}).then(function(e){e.error?a(e):n?c(e.paymentMethod.id,i):r(e.paymentMethod.id,o)})}function e(e){var n=(u=Stripe(e)).elements().create("card");n.mount("#card_element"),n.on("change",function(e){a(e)}),document.querySelector("#payment_form").addEventListener("submit",function(e){if(e.preventDefault(),"requires_payment_method"===localStorage.getItem("latestInvoicePaymentIntentStatus")){var t=localStorage.getItem("latestInvoiceId");l({card:n,isPaymentRetry:!0,invoiceId:t})}else l({card:n})})}var u=undefined;return{init:e}}(),ql.pagination=function(){function e(){t(),n()}function t(){o=document.querySelectorAll(".js-pagination select")}function n(){o.forEach(function(e){e.addEventListener("change",i)})}function i(e){e.preventDefault(),this.closest("form")?this.closest("form").submit():window.location.search+="&"+this.name+"="+this.value}var o="";return{init:e}}();var initPaymentsPage=function initPaymentsPage(){$(".js-purchase-option").first().prop("checked",!0)},initRadioButtonListener=function initRadioButtonListener(){$(".js-purchase-option").change(function(){$(".js-purchase-option").siblings(".js-purchase-option-details").removeClass("is-selected"),$(this).siblings(".js-purchase-option-details").addClass("is-selected"),updateTotal(),$(this).hasClass("js-other-credit")||$(".js-other-credit").prop("disabled",!0)})},initOtherRadioButtonListener=function initOtherRadioButtonListener(){$(".js-other-option").change(function(){$(".js-other-credit").prop("disabled",!1).focus()})},initOtherInputListener=function initOtherInputListener(){$(".js-other-credit").on("keyup mouseup change",function(){$(".js-other-option").val($(this).val()),updateTotal()})},initAddPromoCodeButtonListener=function initAddPromoCodeButtonListener(){$(".js-add-promo-code-button").click(function(e){e.preventDefault();var t=$(".js-purchase-option:checked"),n=t.val().trim(),i=t.data("product-code"),o=$(".js-promo-code").val().trim(),a=$(".js-payments-paths").data("validate-promo-code-path");if(null==o||") && (quantity == null || quantity == "==o)return!1;$.get(a,{uuid:o,credits:n,product_code:i},null,"html").success(function(e){$(".js-payment-details").html(e),$("#payment_details_modal").modal("show"),initRedeemPromoCodeButtonListener(),updateTotal()})})},initRedeemPromoCodeButtonListener=function initRedeemPromoCodeButtonListener(){$("#redeem_now").click(function(){redeemNowUrl=$(".js-payments-paths").data("redeem-now-path"),promoCode=$(".js-promo-code").val().trim(),$.post(redeemNowUrl,{uuid:promoCode}).fail(function(e){alert("Redeem call failed: "+e.responseText)}).done(function(e){window.location.href=e})})},updateTotal=function updateTotal(){var e=$(".js-purchase-option:checked"),t=e.val().trim(),n=e.data("product-code"),i=$(".js-promo-code").val().trim(),o=e.data("course-id"),a=$(".js-payments-paths").data("calculate-total-path");$.get(a,{quantity:t,product_code:n,promo_code:i,course_id:o},null,"json").success(function(e){e.full_price.subtotal?($(".js-payment-sub-total").html(e.full_price.subtotal),$(".js-payment-tax").html(e.full_price.tax),$(".js-payment-total").html(e.full_price.total)):$(".js-payment-total").html(e.price),$(".js-payment-total").data("price_in_cents",e.price_in_cents)})},initStripeButton=function initStripeButton(){if($(".js-stripe-button").length){var r=$(".js-stripe-button").data("currency"),e="usd"===r||"cny"===r,c=StripeCheckout.configure({key:$(".js-stripe-button").data("key"),currency:$(".js-stripe-button").data("currency"),alipay:e,locale:"auto",token:function l(e){var t=$(".js-purchase-option:checked"),n=t.val().trim(),i=t.data("product-code"),o=$(".js-promo-code").val().trim(),a=$(".js-stripe-button").data("process-path"),s=t.data("courseId");$.post(a,{stripeEmail:e.email,stripeToken:e.id,quantity:n,promo_code:o,product_code:i,course_id:s,referrer:$(".js-stripe-button").data("referrer").trim()}).fail(function(e){console.log("Stripe call failed: "+e)}).done(function(e){window.location.href=e})}});$(".js-stripe-button").on("click",function(e){e.preventDefault();var t=$(".js-purchase-option:checked"),n=t.val().trim(),i=t.data("product-code"),o=$(".js-promo-code").val().trim(),a=t.data("course-id"),s=$(".js-payments-paths").data("validate-path");$.post(s,{quantity:n,promo_code:o,product_code:i,course_id:a}).fail(function(e){$(".js-payment-details").html(e.responseText),$("#payment_details_modal").modal("show"),initRedeemPromoCodeButtonListener()}).done(function(){var e=$(".js-payments-paths").data("calculate-total-path");$.get(e,{quantity:n,promo_code:o,product_code:i,course_id:a},null,"json").success(function(e){console.log(spluralize(n,i)),"undefined"!=typeof analytics&&(analytics.track("payment",{product_code:i,promo_code:o,currency:r,quantity:n,amount:e.price_in_cents}),console.log("payment event sent")),c.open({description:e.title,amount:e.price_in_cents})})})}),$(window).on("popstate",function(){c.close()})}var n=$(".js-change-credit-card");if(n.length){var t=StripeCheckout.configure({key:n.data("key"),locale:"auto",token:function l(e){var t=n.data("process-path");$.post(t,{stripeToken:e.id,referrer:n.data("referrer").trim()}).fail(function(e){console.log("Stripe call failed: "+e)}).done(function(e){window.location.href=e})}});n.on("click",function(e){e.preventDefault(),t.open({description:"Update Card Details",panelLabel:"Update Card Details"}),$(window).on("popstate",function(){t.close()})})}},spluralize=function spluralize(e,t){return 1==e?e+" "+t:e+" "+t+"s"},initPayments=function initPayments(){initPaymentsPage(),updateTotal(),initRadioButtonListener(),initOtherRadioButtonListener(),initOtherInputListener(),initAddPromoCodeButtonListener(),initStripeButton()};ql.Permissions=function(e){var t=this;this.button=e,this.menu=new ql.PermissionsMenu($('ul[for="'+this.button.attr("id")+'"]')),this.overlay=$('aside[for="'+this.button.attr("id")+'"]'),this.permissions=this.button.data("permissions"),this.menu.setPermissions=function(e){t.setPermissions(e)},this.button.click(function(){t.menu.isVisible=!0,t.render()}),this.overlay.click(function(){t.menu.isVisible=!1,t.render()}),this.render()},ql.Permissions.prototype.setPermissions=function(e){var t=this.permissions.indexOf(e);0<=t?this.permissions.splice(t,1):this.permissions.push(e),$(".js-permissions-input").val(this.permissions.join("\r\n")),this.render()},ql.Permissions.prototype.render=function(){for(var e=[],t=0;t<this.permissions.length;t++)e.push("<span>"+this.permissions[t]+"</span>");this.button.find("#permissions-display").html(e),this.menu.render()},ql.PermissionsMenu=function(e){var t=this;this.element=e,this.isVisible=!1,this.setPermissions="",this.categories=[];for(var n=this.element.children("li"),i=0;i<n.length;i++)this.categories.push(new ql.PermissionsMenuCategory($(n[i]))),this.categories[i].setPermissions=function(e){t.setPermissions(e)}},ql.PermissionsMenu.prototype.render=function(){this.isVisible?this.element.addClass("is-visible"):this.element.removeClass("is-visible");for(var e=0;e<this.categories.length;e++)this.categories[e].render()},ql.PermissionsMenuCategory=function(e){var t=this;this.element=e,this.isSelected=!1,this.setPermissions="",this.items=[];for(var n=this.element.find("[data-permission]"),i=0;i<n.length;i++)this.items.push(new ql.PermissionsMenuItem($(n[i]))),this.items[i].setPermissions=function(e){t.setPermissions(e)}},ql.PermissionsMenuCategory.prototype.setSelected=function(){this.isSelected=!1;for(var e=0;e<this.items.length;e++)this.items[e].isSelected&&(this.isSelected=!0)},ql.PermissionsMenuCategory.prototype.render=function(){this.setSelected(),this.isSelected?this.element.addClass("is-selected"):this.element.removeClass("is-selected");for(var e=0;e<this.items.length;e++)this.items[e].render()},ql.PermissionsMenuItem=function(e){var t=this;this.element=e,this.isSelected=this.element[0].hasAttribute("data-selected"),this.permission=e.data("permission"),this.setPermissions="",this.element.click(function(){t.isSelected=!t.isSelected,t.setPermissions(t.permission)})},ql.PermissionsMenuItem.prototype.render=function(){this.isSelected?this.element.addClass("is-selected"):this.element.removeClass("is-selected")};var initPermissionsSelect=function initPermissionsSelect(){ql.permissions=new ql.Permissions($(".js-permissions"))};ql.initPublishModal=function(){$("#publish_modal").on("show.bs.modal",function(){ql.updatePublishModal(),setInterval(ql.updatePublishModal,5e3)}).modal()},ql.updatePublishModal=function(){console.log("updating publish modal");var t=$(".js-status").data("lab-id"),e=$(".js-status").data("url");$.get(e).done(function(e){"done"==e.status?window.location.href="/labs/"+t+"/snapshots/new":($("#snapshotJobModal .status").html("["+e.id+"] "+e.status),null!=e.message&&$("#snapshotJobModal .message").html(e.message))})},ql.quest={layout:function(){function e(){i=document.querySelector(".js-quest-sidebar"),n=document.querySelector(".js-quest-wrapper"),o=n.offsetTop,(a=document.querySelector("main")).addEventListener("scroll",t,!1)}function t(){requestAnimationFrame(function(){a.scrollTop>o-s?i.classList.add("is-stuck"):i.classList.remove("is-stuck")})}var n=undefined,i=undefined,o=undefined,a=undefined,s=117;return{init:e}}(),analytics:function(){function e(){var e={questName:gon.learning_path_name,label:gon.learning_path_name,category:"Quest",deployment:gon.deployment},t=document.querySelector(".js-quest-enroll-button"),n=document.querySelector(".js-quest-unenroll-button");document.querySelectorAll(".js-catalog-item-title a").forEach(function(e){return e.addEventListener("click",function(e){ql.track("clicked_quest_activity_link",{label:e.target.innerText,type:e.target.dataset.type})},!1)}),t&&t.addEventListener("click",function(){ql.track("clicked_quest_enroll_button",e)}),n&&n.addEventListener("click",function(){ql.track("clicked_quest_unenroll_button",e)})}return{init:e}}()};var initSearchAutocomplete=function initSearchAutocomplete(){jQuery.ui.autocomplete.prototype._resizeMenu=function(){this.menu.element.outerWidth(this.element.outerWidth())},0<$(".js-autocomplete").length&&$.getJSON("/searches/autocomplete.json",function(e){window.SEARCH_AUTOCOMPLETE_DISABLED||(e=e.map($.trim).sort(function(e,t){return e.localeCompare(t)}),$(".js-autocomplete").autocomplete({source:e,select:function n(e,t){$(this).val(t.item.value),$(this).parents("form").submit()}}))})},disableSearchAutocomplete=function disableSearchAutocomplete(){$(".js-autocomplete").autocomplete("instance")&&$(".js-autocomplete").autocomplete("disable")},initSearch=function initSearch(){initSearchAutocomplete(),$searchInput=document.getElementById("keywords"),$searchInput&&$searchInput.addEventListener("keydown",function(e){e.isComposing||13!=e.keyCode||ql.track("searched",{label:e.target.value})})};if($(function(){function e(){var e=ql.experiments.getActiveExperiments().map(function(e){return e.optimize_id+"."+e.variant_index}).join("!");ga("set","exp",e)}if(gon.segment!=undefined){!function(){var n=window.analytics=window.analytics||[];if(!n.initialize)if(n.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{n.invoked=!0,n.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","page","once","off","on"],n.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);return e.unshift(t),n.push(e),n}};for(var e=0;e<n.methods.length;e++){var t=n.methods[e];n[t]=n.factory(t)}n.load=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+e+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)},n.SNIPPET_VERSION="3.1.0",n.load(gon.segment)}}();var t="none";if(gon.deployment!=undefined&&(t=gon.deployment),gon.hasOwnProperty("current_user")){var n=gon.current_user;analytics.identify(t+"-"+n.id,{email:n.email,first_name:n.firstname,last_name:n.lastname,company:n.company,origin:n.origin,name:n.fullname,subscriptions:n.subscriptions,qlCreatedAt:n.qlCreatedAt,optIn:n.optIn,deployment:t})}analytics.ready(function(){e(),analytics.page()})}}),"undefined"==typeof jQuery)throw new Error("select_all requires jQuery");!function(l){l.fn.select_all=function(e){function n(e){for(var t=[],n=[];!e.is("body");)0<(n=e.find(":checkbox.selectable")).length?(t=n,e=l("body")):e=e.parent();return t}function i(e,t,n){switch(e.data("show_count")){case"checked":count_result="(Selected "+t+")";break;case"checked_with_total":count_result="("+t+"/"+n+")";break;case"unchecked":count_result="(Unselected "+(n-t)+")";break;default:count_result="(Selected "+t+")"}var i=l(e.data("attach_count_to"));0==i.length&&(i=e.parent()),0<l("span#select_all_count_id[data-select_all_uid='"+e.data("select_all_uid")+"']").length?l("span#select_all_count_id[data-select_all_uid='"+e.data("select_all_uid")+"']").text(count_result):l("<span id='select_all_count_id' data-select_all_uid="+e.data("select_all_uid")+">"+count_result+"</span>").appendTo(i)}function o(e){l(e).change(function(){var e=l(".select_all[data-select_all_class='"+a["class"]+"']"),t=l(".selectable."+a["class"]+":checked").length,n=l(".selectable."+a["class"]).length;t==n?e.prop("checked","checked"):e.prop("checked",!1),0<e.data("show_count").length&&i(e,t,n)})}var t,a=l.extend({"class":"no_class",infinite_scroll_select:!1,show_count:!1,attach_count_to:!1,uniq_id:Math.random()},e);if(0==l(this).length)return null;var s,r=l(this),c=r;return r.addClass("select_all").attr("data-select_all_class",a["class"]).attr("data-select_all_uid",a.uniq_id),r.data("show_count",a.show_count),r.data("attach_count_to",a.attach_count_to),0<(t=n(c)).length&&t.addClass(a["class"]),l(".select_all[data-select_all_class='"+a["class"]+"']").change(function(){l(".selectable."+a["class"]).prop("checked",l(this).prop("checked"))}),a.infinite_scroll_select&&(l(r).attr("data-total_child_count",t.length),l(document).ajaxComplete(function(){l("[data-total_child_count]").each(function(){var e=l(this),t=n(e);t.length>e.data("total_child_count")&&(t.addClass(e.data("select_all_class")),e.attr("data-total_child_count",t.length),o(t),e.prop("checked")&&t.prop("checked",!0),e.data("show_count")&&i(e,t.parent().find(":checked").length,t.length))})})),!1!==a.show_count&&i(r,t.parent().find(":checked").length,t.length),(s=r).change(function(){var e=l(".selectable."+a["class"]),t=l(this).prop("checked");if(e.prop("checked",t),0<s.data("show_count").length){var n=t?e.length:0;i(s,n,e.length)}}),o(t),l(this)}}(jQuery),initFirstTabActive=function(){$(".js-tab").first().addClass("is-active"),$(".js-tab-content").first().addClass("is-active")},initTabListener=function(){$(".js-tab").click(function(){var e=$(this).data("tab");$(".js-tab").removeClass("is-active"),$(this).addClass("is-active"),$(".js-tab-content").removeClass("is-active"),$(".js-tab-content[data-tab='"+e+"']").addClass("is-active")})},initTabs=function(){initTabListener()},ql.toggleButtons=function(){function e(){document.querySelectorAll(".toggle-button").forEach(function(e){e.hasAttribute("for")?(e.addEventListener("click",n,!1),e.addEventListener("keyup",t,!1)):e.disabled=!0})}function t(e){e.keyCode===l&&n.bind(this)()}function n(){this.classList.contains(r)?o(this):i(this)}function i(e){s(e,"on"),e.classList.add(r);var t=a(e);t&&t.classList.add(r)}function o(e){s(e,"off"),e.classList.remove(r);var t=a(e);t&&t.classList.remove(r)}function a(e){return document.getElementById(e.getAttribute("for"))}function s(e,t){e.hasAttribute(c)&&(document.cookie="toggleButton."+e.getAttribute(c)+"= "+t)}var r="is-toggled",c="local-storage-id",l=13;return{init:e}}(),initTooltips=function(){$('[data-toggle="tooltip"]').tooltip()};var trans={},initLabTranslations=function initLabTranslations(e){trans=e},initPaymentTranslations=function initPaymentTranslations(e){trans=e};ql.affiliateAutocomplete=function(){function e(){$(".js-affiliate-user-autocomplete").userAutocomplete({source:function i(e,t){var n="?q["+this.element[0].dataset.query+"]="+e.term;ql.getJson(this.element[0].dataset.autocomplete+n).then(function(e){t(e.map(function(e){return{label:e,value:e.email}}))})},open:function e(){$(".js-add-new-user").click(t)}})}function t(){var e=$(".js-affiliate-user-autocomplete").val();$('.js-new-user input[type="email"]').val(e),$(".js-new-user").removeClass("is-hidden"),$(".js-existing-user").addClass("is-hidden")}return{init:e}}(),retrieve_selected_emails=function(e){var n="";$(".selectable:checked").each(function(e,t){n=n.concat("<input name='selected_emails[]' value="+t.value+" hidden='True'></input>")}),e&&($(n).insertBefore($(e)[0]),$(e)[0].remove())};

}
/*
     FILE ARCHIVED ON 03:37:40 Aug 29, 2021 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 09:23:21 Sep 27, 2021.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 230.473
  exclusion.robots: 0.142
  exclusion.robots.policy: 0.132
  RedisCDXSource: 4.085
  esindex: 0.009
  LoadShardBlock: 198.319 (3)
  PetaboxLoader3.resolve: 189.193 (4)
  PetaboxLoader3.datanode: 42.344 (4)
  CDXLines.iter: 24.121 (3)
  load_resource: 94.59
*/